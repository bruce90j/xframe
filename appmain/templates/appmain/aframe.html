{% load static %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>X-frame scene</title>
    <meta name="description" content="X-frame scene"/>

    <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.0.0/dist/aframe-extras.min.js"></script>
{#    <script src="{% static "appmain/libs/aframe-v1.4.1.min.js" %}"></script>#}
{#    <script src="{% static "appmain/libs/aframe-extras.min.js" %}"></script>#}
    {#    <script src="https://mixedreality.mozilla.org/ammo.js/builds/ammo.wasm.js"></script>#}

    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.5.0/socket.io.slim.js"></script>

    <link rel="stylesheet" type="text/css" href="{% static "appmain/css/style.css" %}"/>
</head>
<body>
<a-scene
        {% if local %}stats{% endif %}
        {#        physics="debug: false"#}
        background="color: black"
        renderer="
            antialias: true;
            colorManagement: true;
            sortObjects: true;
            physicallyCorrectLights: true;
            "
>
    <a-assets>
        <a-asset-item id="sceneMesh" src="{% static 'appmain/assets/artgallery/navmesh.glb' %}"></a-asset-item>
        <a-asset-item id="sceneModel" src="{% static 'appmain/assets/artgallery/artgallery.glb' %}"></a-asset-item>
        {% block extra_assets %}
        {% endblock %}
    </a-assets>


    {#    <a-entity id="environment" environment="preset:starry" material="fog: false"#}
    {#              scale="{{ scene_scale }} {{ scene_scale }} {{ scene_scale }}"></a-entity>#}
    <a-entity
            normal-material
            visible="false"
            position="0 0 0"
            scale="1 1 1"
            gltf-model="#sceneMesh"
            class="navmesh"
            id="navmesh"
            nav-mesh>
    </a-entity>
    <a-entity gltf-model="#sceneModel" position="0 0 0"
              scale="1 1 1"></a-entity>


    <a-entity
            id="rig"
            position="2.6 0 2.6"
            rotation="0 0 0"
            movement-controls="constrainToNavMesh: true; speed: 0.1;">
        <a-entity id="player" camera player-info position="0 1.6 0" look-controls></a-entity>
    </a-entity>
</a-scene>

<div class="credits">
    <p class="small"><a href="https://skfb.ly/ooRLp">VR Gallery</a> by Maxim Mavrichev is licensed under <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution</a>.</p>

</div>
</body>
</html>
